import{m as h,z as b,l as k,E as R,A as q,B as D,r as F,q as T,C as d,D as E,F as A,U as L,t as g,G as o,I as v,y as x,J as B,S as C}from"./BxylWL3j.js";function U(a,f,e=!1){h&&b();var i=a,r=null,s=null,l=L,I=e?R:0,c=!1;const S=(n,t=!0)=>{c=!0,u(t,n)},u=(n,t)=>{if(l===(l=n))return;let _=!1;if(h){const N=i.data===q;!!l===N&&(i=D(),F(i),T(!1),_=!0)}l?(r?d(r):t&&(r=E(()=>t(i))),s&&A(s,()=>{s=null})):(s?d(s):t&&(s=E(()=>t(i))),r&&A(r,()=>{r=null})),_&&T(!0)};k(()=>{c=!1,f(S),c||u(null,null)},I),h&&(i=g)}function y(a,f){return a===f||(a==null?void 0:a[C])===f}function Y(a={},f,e,i){return o(()=>{var r,s;return v(()=>{r=s,s=[],x(()=>{a!==e(...s)&&(f(a,...s),r&&y(e(...r),a)&&f(null,...r))})}),()=>{B(()=>{s&&y(e(...s),a)&&f(null,...s)})}}),a}export{Y as b,U as i};
